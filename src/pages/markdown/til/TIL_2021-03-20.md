---
title: "2021-03-20"
date: "2021-03-20"
folder: "til"
tags: ["SSR", "DarkTheme", "Gatsby", "서버사이드렌더링"]
---

### 오늘의 Today I Learn(Do)

#### 1. 블로그 수정
 - 드디어! 서버사이드가 일으키던 다크모드 문제를 해결하였다.
 #### 해결방법
 - DOM 트리구조가 생성되는 순서
  1. `CONTEXT API 전역변수 생성`
  2. `Styled Theme Provider` 가 `Theme` 변수 생성
  3. `Global CSS` 생성
  4. `src/` 에 있는 파일트리가 생성됨.
 
 - 여기서 3번 `Global CSS` 생성을 수정해주었다.
 
  ```json
  1. `CONTEXT API 전역변수 생성`
  2. `Styled Theme Provider` 가 `Theme` 변수 생성
  ```

  이 2개가 생성 되고나서 3번이 실행 되기 때문에,
  3번이 실행 되고나서 4번의 `DOM 트리`가 생성되도록 하였다.


  #### 어떻게?
   1. `CONTEXT API` 전역 변수로 `boolean` 변수를 `false`로 생성
   2. `Global CSS`는 ReactCompoent로 return 해주고, 이 Component가 실행되면
   1에서 정의해준 boolean 변수를 `true` 로 설정

   3. 4번 Dom 트리구조를 반환하는 `gatsby-ssr, gatsby-browser`의 `{element}`
   를 `props` 로 갖는 `컨테이너`를 만들고, 2번에서 정의해준 변수가 true가 되면 {element} 를 반환하는 방법으로 하였다.

 #### 시간남을 때, 블로그 포스팅으로 좀더 자세히 적기!
 
-------
내일 할일:
 - 1. (계속해서 `TODO`에 올려두기). 저번에 클릭하면 눈내리는 canvas 프로젝트 만들고 블로그에 canvas 프로젝트들 올리는 sector 만드는 거 기획..?
 
